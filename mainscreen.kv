#:kivy 2.0.0
#:import RoundedRectangle kivy.graphics
#:import C kivy.utils.get_color_from_hex
#:import SvgWidget svgwidget
#:import LiveOrdersScreen liveordersscreen
#:import PreviousOrdersScreen previousordersscreen
#:import OrderDetailScreen orderdetailscreen
#:include liveordersscreen.kv
#:include previousordersscreen.kv
#:include orderdetailscreen.kv

<MainScreen>:

    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, None
            height: 96
            padding: 96, 0, 96, 0
            StackLayout:
#                canvas.before:
#                    Color:
#                        rgb: C('#0000FF')
#                    Rectangle:
#                        size: self.size
#                        pos: self.pos
#                padding_x: 20
                AnchorLayout:
#                    canvas.before:
#                        Color:
#                            rgb: C('#0000FF')
#                        Rectangle:
#                            size: self.size
#                            pos: self.pos
                    size_hint: None, None
                    anchor_x: 'right'
                    anchor_y: 'center'
                    Image:
#                        canvas.before:
#                            Color:
#                                rgb: C('#FF0000')
#                            Rectangle:
#                                size: self.size
#                                pos: self.pos
                        source: './images/logo-mark@3x.png'
                        color: C('#A1A1AA')
                        size_hint: None, None
                        allow_stretch: True
                        height: 48
                        width: 48
                FloatLayout:
#                    canvas.before:
#                        Color:
#                            rgb: C('#FF0000')
#                        Rectangle:
#                            size: self.size
#                            pos: self.pos
                    size_hint: .15, 1
                    Button:
                        text: '[i]Action Needed[/i]'
                        font_name: 'Inter'
                        font_size: 18
                        pos_hint: {"center_y": .5, "center_x": .5}
                        color: C('#F87171')
                        background_normal:''
                        background_color: 0,0,0,0
                        on_press: content_manager.current = 'live_orders'
                        markup: True
                    Label:
                        canvas.before:
                            Color:
                                rgb: C('#F87171')
                            Ellipse:
                                size: self.size
                                pos: self.pos
                        pos_hint: {"center_y": .70, "center_x": .80}
                        size_hint: None, None
                        color: C('#27272A')
                        font_name: 'Inter'
                        bold: True
                        height: 24
                        width: 24
                        font_size: 14
                        text: '5'
                Button:
                    text: '[i]Open Orders[/i]'
                    size_hint: .15, 1
                    font_name: 'Inter'
                    font_size: 18
                    background_normal:''
                    background_color: 0,0,0,0
                    on_press: content_manager.current = 'live_orders'
                    markup: True
                Button:
                    text: '[i]Past Orders[/i]'
                    size_hint: .15, 1
                    background_normal:''
                    background_color: 0,0,0,0
                    font_name: 'Inter'
                    font_size: 18
                    markup: True
                    on_press: content_manager.current = 'previous_orders'
            AnchorLayout:
                anchor_y: 'center'
                anchor_x: 'center'
                size_hint: .1, 1
#                SvgWidget:
#                    canvas.before:
#                        Color:
#                            rgb: C('#FF0000')
#                        Rectangle:
#                            size: self.size
#                            pos: self.pos
#                    background_color: 0, 0, 0, 0
#                    size_hint: None, None
#                    filename: './icons/user.svg'
#                    scale: 2
                Button:
                    canvas.before:
                        Color:
                            rgb: C('#D4D4D8')
                        Ellipse:
                            size: self.size
                            pos: self.pos
                    background_color: 0, 0, 0, 0
                    markup: True
                    text: f'[font=Icons][size=24]{chr(60558)}[/size][/font]'
                    color: C('#71717A')
                    size_hint_x: None
                    size_hint_y: None
                    height: 48
                    width: 48
                    on_press: root.manager.current = 'login'
        ScreenManager:
            id: content_manager
            LiveOrdersScreen:
                id: live_orders
                screen_manager: content_manager
#                on_order_detail: content_manager.current = order_detail
            PreviousOrdersScreen:
                id: previous_orders
            OrderDetailScreen:
                id: order_detail
