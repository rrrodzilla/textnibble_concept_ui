#:kivy 2.0.0
#:import C kivy.utils.get_color_from_hex
#:import KeypadButton keypadbutton
#:include keypadbutton.kv

<SubtotalHeading@Label>:
    color: C('#E5E5E5')
    font_name: 'Inter'
    font_size: 24
    markup: True
    text_size: self.size 
    halign: 'left'
    valign: 'top'
    size_hint: 1, .6
<Heading@Label>:
    color: C('#E5E5E5')
    font_name: 'Inter'
    font_size: 14
    markup: True
    text_size: self.size 
    halign: 'left'
    valign: 'bottom'
    size_hint: 1, .4

<SubtotalEditor>:
    subtotal:
    heading_text:
    subtotal_text:
    show_entry_button:
    canvas.before:
        Color:
            rgb: C('#3F3F46')
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [8]
    size_hint: 1, 1
    BoxLayout:
        size_hint: (.3, 1) if root.show_entry_button is True else (0, 0) 
        padding: 24, 12, 0, 12
        KeypadButton:
            pos_hint: {'center_y':.5}
            size: ['32dp', '48dp']
            font_size: '16dp'
            text: f'[font=Icons]{chr(60382)}[/font]'

    BoxLayout:
        size_hint:(.7, 1) if root.show_entry_button is True else (1, 1) 
        orientation: 'vertical'
        padding: 0, 12, 24, 12
        Heading: 
            text: root.heading_text
        SubtotalHeading:
            text: "${:,.2f}".format(root.subtotal.total)
