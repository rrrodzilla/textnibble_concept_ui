#:kivy 2.0.0
#:import C kivy.utils.get_color_from_hex
#:import KeypadButton keypadbutton
#:include keypadbutton.kv
#:import Numpad widgets.numpad
#:include ./widgets/numpad.kv


<SubtotalHeading@Label>:
    color: C('#E4E4E7')
    font_name: 'Inter'
    font_size: 30
    bold: True
    markup: True
    text_size: self.size 
    halign: 'left'
    valign: 'top'
    size_hint: 1, .6
<Heading@Label>:
    color: C('#A1A1AA')
    font_name: 'Inter'
    font_size: 14
    markup: True
    text_size: self.size 
    halign: 'left'
    valign: 'bottom'
    size_hint: 1, .4

<SubtotalEditor>:
    subtotal:
    heading_text:
    subtotal_text:"${:,.2f}".format(root.subtotal.total)

    show_entry_button:
    canvas.before:
        Color:
            rgb: C('#27272A')
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [8]
    size_hint: 1, None
    height: '96dp'
    orientation: 'vertical'
    BoxLayout:
        BoxLayout:    
#           canvas.before:
#               Color:
#                   rgb: C('#FF0000')
#               RoundedRectangle:
#                   size: self.size
#                   pos: self.pos
            size_hint: (None, 1) if root.show_entry_button else (None, None) 
            height: self.height if root.show_entry_button else 0
            width: '64dp' if root.show_entry_button else 0
            padding: ('24dp', '12dp', '18dp', '12dp') if root.show_entry_button else 0
            opacity: 1 if root.show_entry_button else 0
            Label:
                id: icon
                pos_hint: {'center_y':.5}
                enabled_color: C('#3F3F46')
                color: C('#E4E4E7')
                text: f'[font=Icons]{chr(60382)}[/font]'
                font_size: '36sp'
                #on_press: root.toggle_num_pad()
        BoxLayout:
            size_hint:(1, 1) if root.show_entry_button else (1, 1) 
            orientation: 'vertical'
            #  [padding_left, padding_top, padding_right, padding_bottom]
            padding: ('24dp', '12dp', '24dp', '12dp') if not root.show_entry_button else ('0dp', '12dp', '24dp', '12dp') 
            Heading: 
                text: root.heading_text
            SubtotalHeading:
                text: root.subtotal_text
    FloatLayout:
        id: numpad_layout
        height: 0
        width: 0
        size_hint: None, None
